---

Программное средство реализации онлайн-сервиса интеллектуальной поддержки решения домашних заданий учащихся школ и студентов университета при помощи ИИ-ассистента

Краткое описание:
Reshai.by — это онлайн-сервис для школьников, который с помощью искусственного интеллекта помогает решать домашние задания.

Цели проекта:

* Сократить время выполнения домашних заданий.
* Повысить понимание учебного материала за счёт пошаговых объяснений.
* Дать удобный инструмент для хранения и анализа прогресса.

Основные возможности:

* Загрузка задания (текст или фото).
* Генерация решения и объяснения на основе ИИ.
* Сохранение заданий и прогресса ученика.
* Поддержка интеграции с платёжной системой (подписки).

Ссылки:

* Сервер (backend): https://github.com/reshaiby/server
* Клиент (frontend): https://github.com/reshaiby/client

---

## Содержание

1. [Архитектура](#Архитектура)

   1. [C4-модель](#C4-модель)
      
   2. Контейнерный уровень архитектуры ПС
      <img width="462" height="152" alt="image" src="https://github.com/user-attachments/assets/d6b2b9fa-12ba-41ac-a90c-8d3d266d8ef8" />

Программное средство реализации онлайн-сервиса интеллектуальной поддержки решения домашних заданий учащихся школ и студентов университета при помощи ИИ-ассистента представлено как распределённая система, обеспечивающая взаимодействие между основными участниками: учениками (школьниками и студентами) и администраторами платформы.
Система включает несколько ключевых контейнеров.
Главным элементом взаимодействия является веб-приложение (Vue.js), предоставляющее удобный интерфейс для пользователей. Через него учащиеся могут загружать задания, получать решения и пояснения, а администраторы управляют доступом, тарифами и проводят модерацию контента.
Для обработки бизнес-логики и взаимодействия с внешними системами используется API-сервис (Backend на Python, FastAPI). Этот контейнер принимает запросы от клиентского приложения, выполняет проверку данных, обращается к базе данных и интеграциям с ИИ-моделями, а также реализует авторизацию и контроль доступа.
База данных (MongoDB) обеспечивает хранение информации о пользователях, загруженных заданиях, решениях и статистике использования. Взаимодействие с данными осуществляется исключительно через API-сервис, что гарантирует централизованное управление и контроль целостности данных.
Дополнительно система интегрирована с серверами OpenAI, которые выполняют роль внешнего интеллектуального сервиса: принимают запросы от API-сервиса и возвращают решения, пояснения и рекомендации.
Таким образом, архитектура программного средства строится вокруг разделения ответственности:
веб-приложение – интерфейс и взаимодействие с пользователями,
API-сервис – бизнес-логика, интеграции и контроль доступа,
база данных – централизованное хранилище информации,
внешний сервис OpenAI – интеллектуальная поддержка и генерация решений.

   3. Компонентный уровень архитектуры ПС 

<img width="417" height="349" alt="image" src="https://github.com/user-attachments/assets/a084ba57-f14e-4412-80d0-5dec480262ed" />

На компонентном уровне система детализируется как набор логически выделенных модулей, каждый из которых отвечает за свою часть бизнес-логики. Веб-приложение (клиент) формирует пользовательский интерфейс школьника/студента, отправляет REST-запросы (JSON) к серверу и отображает результаты: решения, объяснения, историю заданий и профиль.

Внутри API-сервиса реализованы специализированные контроллеры:

1. AuthController — отвечает за регистрацию и вход, валидацию учётных данных и выдачу JWT-токенов для безопасного доступа к остальным ресурсам.
2. TaskController — управляет жизненным циклом заданий: создание (загрузка текста/фото), получение, обновление статуса, список «Мои задания».
3. SolutionController — инициирует получение решения и пошагового объяснения: принимает запрос на разбор, оркестрирует обращение к ИИ и возвращает готовый результат пользователю.
4. ProfileController — операции профиля и подписок: просмотр/редактирование данных пользователя, параметры тарифа, базовые настройки.

Каждый контроллер использует соответствующий сервис, в котором инкапсулирована предметная логика:

* AuthService — правила аутентификации/авторизации, хеширование паролей, управление токенами.
* TaskService — проверка входных данных задания, нормализация содержимого (текст/изображение), политика доступа к заданиям пользователя.
* SolutionService — доменная логика получения решения: подготовка промпта, вызов внешнего сервиса OpenAI API, пост-обработка ответа (структурирование шага-за-шагом, проверка на соответствие предмету/формату), кэширование/идемпотентность при повторных запросах.
* ProfileService — изменения профиля и статусов подписки (чтение/обновление пользовательских атрибутов).

Доступ к данным осуществляется через слой репозиториев:

* UserRepository, TaskRepository, SolutionRepository — типовые операции чтения/записи, пагинация, индексация и транзакционные сценарии на уровне БД.

Хранилище — MongoDB: коллекции пользователей, заданий и решений. Репозитории централизуют доступ к БД, что обеспечивает целостность данных и упрощает эволюцию схемы.
Внешняя интеграция — OpenAI API: используется сервисом SolutionService для генерации решения и объяснений (NLP/LLM). Взаимодействие с OpenAI — чтение/получение вывода; с БД — чтение и запись сущностей заданий/решений.

Такое слойное разделение (контроллер → сервис → репозиторий) повышает модульность и тестопригодность системы: контроллеры остаются тонкими, бизнес-правила сосредоточены в сервисах, а детали доступа к данным инкапсулированы в репозиториях. Поток «загрузить задание → получить решение» выглядит так: клиент → TaskController/TaskService (сохранить задание) → SolutionController/SolutionService (вызов OpenAI, пост-обработка) → SolutionRepository (персистенция) → ответ клиенту.

   4. [Схема данных]

<img width="863" height="591" alt="Снимок экрана 2025-10-22 в 21 26 05" src="https://github.com/user-attachments/assets/6e8253d9-fcfe-49f7-9878-33dd253fc0a7" />

      
2. [Функциональные возможности](#Функциональные_возможности)

   1. [Диаграмма вариантов использования](#Диаграмма_вариантов_использования)
   2. [User-flow диаграммы](#User-flow_диаграммы)
3. [Детали реализации](#Детали_реализации)

   1. [UML-диаграммы](#UML-диаграммы)
   2. [Спецификация API](#Спецификация_API)
   3. [Безопасность](#Безопасность)
   4. [Оценка качества кода](#Оценка_качества_кода)
4. [Тестирование](#Тестирование)

   1. [Unit-тесты](#Unit-тесты)
   2. [Интеграционные тесты](#Интеграционные_тесты)
5. [Установка и запуск](#installation)

   1. [Манифесты для сборки docker образов](#Манифесты_для_сборки_docker_образов)
   2. [Манифесты для развертывания k8s кластера](#Манифесты_для_развертывания_k8s_кластера)
6. [Лицензия](#Лицензия)
7. [Контакты](#Контакты)

---

## Архитектура

### C4-модель

Уровень контейнеров:

* Клиент (web/mobile): интерфейс школьника для загрузки и просмотра решений.
* Backend (FastAPI/Uvicorn): основной сервис обработки запросов.
* MongoDB: хранение данных пользователей, заданий и решений.
* Redis (ARQ): очередь фоновых задач.
* OpenAI API: интеграция для генерации решений.
* Альфа-Банк API: платёжная система для подписок.
* Promtail + Grafana Loki: логирование и мониторинг.

### Схема данных

Основные сущности:

* User: id, email, пароль (bcrypt hash), роль.
* Task: id, пользователь, текст/фото задания, дата загрузки.
* Solution: id, ссылка на task, текст ответа, объяснение, дата генерации.
* Subscription: id, пользователь, тариф, статус оплаты.

*(SQL/NoSQL скрипты будут приложены отдельно)*

---

## Функциональные возможности

### Диаграмма вариантов использования

* Школьник: загрузить задание → получить решение → сохранить результат.
* Администратор: модерировать пользователей → контролировать задания/решения.

### User-flow диаграммы

*(Диаграммы переходов для школьника и администратора — как мы уже построили выше)*

---

## Детали реализации

### UML-диаграммы

*(Классы User, Task, Solution, AdminService, PaymentService и их взаимодействия)*

### Спецификация API

* OpenAPI 3.0 (Swagger UI доступен по `/docs`).

### Безопасность

* JWT-аутентификация.
* Хеширование паролей через bcrypt.
* Авторизация по ролям (student/admin).

### Оценка качества кода

* Инструменты: flake8, mypy, pytest coverage.

---

## Тестирование

### Unit-тесты

* Покрывают методы: авторизация, создание задания, генерация ответа, работа подписок, сохранение в БД.

### Интеграционные тесты

* Проверка полного цикла: загрузка задания → вызов OpenAI API → сохранение решения → выдача ответа пользователю.

---

## Установка и запуск

### Манифесты для сборки docker образов

* Dockerfile для backend и client.

### Манифесты для развертывания k8s кластера

* Deployment + Service для backend.
* StatefulSet для MongoDB и Redis.
* ConfigMap/Secret для переменных окружения.

---

## Лицензия

Этот проект лицензирован по лицензии MIT – подробности в файле [LICENSE.md](LICENSE.md).

---

## Контакты

Автор: Намдаг Т. Ц.
       Артамонов А. А.

---
<img width="468" height="200" alt="image" src="https://github.com/user-attachments/assets/d9503c22-1168-4ad5-aed8-b8641f372847" />
<img width="462" height="152" alt="image" src="https://github.com/user-attachments/assets/9d40ad72-7c09-459b-8aa9-e2a15ab86c68" />
<img width="417" height="349" alt="image" src="https://github.com/user-attachments/assets/08e0625d-db59-4fa1-b704-3097de03e9ae" />
<img width="468" height="226" alt="image" src="https://github.com/user-attachments/assets/89ba8faa-83db-4d47-8700-d043f3349515" />
<img width="295" height="299" alt="image" src="https://github.com/user-attachments/assets/0ae09b02-e868-4597-a331-080df7d4f401" />

